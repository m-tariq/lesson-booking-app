"use strict";(self["webpackChunklesson_booking_app"]=self["webpackChunklesson_booking_app"]||[]).push([[73],{2073:function(s,e,a){a.r(e),a.d(e,{default:function(){return as}});var t=a(6768);const o={class:"lessons-container"};function i(s,e,a,i,n,r){const c=(0,t.g2)("search-sort-bar"),l=(0,t.g2)("lesson-list");return(0,t.uX)(),(0,t.CE)("div",o,[(0,t.bF)(c,{onSearch:r.handleSearch,onUpdateSort:r.handleSort},null,8,["onSearch","onUpdateSort"]),(0,t.bF)(l,{lessons:s.filteredLessons,loading:s.loading,error:s.error,onAddToCart:r.handleAddToCart},null,8,["lessons","loading","error","onAddToCart"])])}var n=a(782),r=a(5130);const c={class:"search-sort-container border-bottom"},l={class:"container py-4"},d={class:"row g-4 align-items-end justify-content-between"},u={class:"col-md-5"},p={class:"form-group"},h={class:"search-input-wrapper"},b={class:"col-md-7"},m={class:"sort-controls"},L={class:"sort-group"},k={class:"sort-group"};function v(s,e,a,o,i,n){return(0,t.uX)(),(0,t.CE)("div",c,[(0,t.Lk)("div",l,[(0,t.Lk)("div",d,[(0,t.Lk)("div",u,[(0,t.Lk)("div",p,[e[9]||(e[9]=(0,t.Lk)("label",{class:"control-label"},"Search",-1)),(0,t.Lk)("div",h,[e[8]||(e[8]=(0,t.Lk)("div",{class:"search-icon"},[(0,t.Lk)("i",{class:"bi bi-search"})],-1)),(0,t.bo)((0,t.Lk)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=s=>i.searchTerm=s),onInput:e[1]||(e[1]=(...s)=>n.handleSearch&&n.handleSearch(...s)),placeholder:"Search lessons...",class:"search-input"},null,544),[[r.Jo,i.searchTerm]]),i.searchTerm?((0,t.uX)(),(0,t.CE)("button",{key:0,onClick:e[2]||(e[2]=(...s)=>n.clearSearch&&n.clearSearch(...s)),class:"clear-button",title:"Clear search"},e[7]||(e[7]=[(0,t.Lk)("i",{class:"bi bi-x-lg"},null,-1)]))):(0,t.Q3)("",!0)])])]),(0,t.Lk)("div",b,[(0,t.Lk)("div",m,[(0,t.Lk)("div",L,[e[11]||(e[11]=(0,t.Lk)("label",{class:"control-label"},"Sort by",-1)),(0,t.bo)((0,t.Lk)("select",{"onUpdate:modelValue":e[3]||(e[3]=s=>i.sortBy=s),onChange:e[4]||(e[4]=(...s)=>n.onChangeSort&&n.onChangeSort(...s)),class:"sort-select"},e[10]||(e[10]=[(0,t.Lk)("option",{value:"subject"},"Subject",-1),(0,t.Lk)("option",{value:"location"},"Location",-1),(0,t.Lk)("option",{value:"price"},"Price",-1),(0,t.Lk)("option",{value:"spaces"},"Availability",-1)]),544),[[r.u1,i.sortBy]])]),(0,t.Lk)("div",k,[e[13]||(e[13]=(0,t.Lk)("label",{class:"control-label"},"Order",-1)),(0,t.bo)((0,t.Lk)("select",{"onUpdate:modelValue":e[5]||(e[5]=s=>i.sortOrder=s),onChange:e[6]||(e[6]=(...s)=>n.onChangeSort&&n.onChangeSort(...s)),class:"sort-select"},e[12]||(e[12]=[(0,t.Lk)("option",{value:"asc"},"Ascending",-1),(0,t.Lk)("option",{value:"desc"},"Descending",-1)]),544),[[r.u1,i.sortOrder]])])])])])])])}var C={name:"SearchSort",data(){return{sortBy:"subject",sortOrder:"asc",searchTerm:""}},methods:{handleSearch(){this.$emit("search",this.searchTerm)},clearSearch(){this.searchTerm="",this.handleSearch()},onChangeSort(){this.$emit("update-sort",{sortBy:this.sortBy,sortOrder:this.sortOrder})}}},g=a(1241);const f=(0,g.A)(C,[["render",v]]);var y=f,S=a(4232);const A={class:"container py-4"},x={key:0,class:"text-center py-4"},T={key:1,class:"text-center py-4"},j={class:"alert alert-danger",role:"alert"},w={key:2},I={key:0,class:"text-center py-4"},_={key:1,class:"row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4"};function E(s,e,a,o,i,n){const r=(0,t.g2)("LessonCard");return(0,t.uX)(),(0,t.CE)("div",A,[a.loading?((0,t.uX)(),(0,t.CE)("div",x,e[0]||(e[0]=[(0,t.Lk)("div",{class:"spinner-border text-primary",role:"status"},[(0,t.Lk)("span",{class:"visually-hidden"},"Loading...")],-1)]))):a.error?((0,t.uX)(),(0,t.CE)("div",T,[(0,t.Lk)("div",j,(0,S.v_)(a.error),1)])):((0,t.uX)(),(0,t.CE)("div",w,[e[2]||(e[2]=(0,t.Lk)("h2",{class:"mb-4"},"Available Lessons",-1)),0===a.lessons.length?((0,t.uX)(),(0,t.CE)("div",I,e[1]||(e[1]=[(0,t.Lk)("p",{class:"text-muted"},"No lessons found.",-1)]))):((0,t.uX)(),(0,t.CE)("div",_,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(a.lessons,(s=>((0,t.uX)(),(0,t.CE)("div",{class:"col",key:s.id},[(0,t.bF)(r,{lesson:s,onAddToCart:n.handleAddToCart},null,8,["lesson","onAddToCart"])])))),128))]))]))])}const B={class:"lesson-card card h-100 border-0 shadow-sm hover-effect rounded-4 overflow-hidden"},X={class:"card-header bg-gradient d-flex justify-content-between align-items-center py-3"},O={class:"card-title mb-0"},F={class:"subject-icon me-3"},M={class:"card-body"},U={class:"info-list"},P={class:"info-item d-flex align-items-center mb-3"},V={class:"fw-medium"},$={class:"info-item d-flex align-items-center mb-3"},D={class:"fw-medium"},q={class:"info-item d-flex align-items-center"},z={class:"info-icon me-3"},G={class:"card-footer border-0 bg-transparent p-4"},H=["disabled"],N={class:"btn-text"};function J(s,e,a,o,i,n){return(0,t.uX)(),(0,t.CE)("div",B,[(0,t.Lk)("div",X,[(0,t.Lk)("h5",O,(0,S.v_)(a.lesson.subject),1),(0,t.Lk)("div",F,[(0,t.Lk)("i",{class:(0,S.C4)([a.lesson.icon,"fs-3"])},null,2)])]),(0,t.Lk)("div",M,[(0,t.Lk)("div",U,[(0,t.Lk)("div",P,[e[2]||(e[2]=(0,t.Lk)("div",{class:"info-icon me-3"},[(0,t.Lk)("i",{class:"bi bi-geo-alt-fill text-primary"})],-1)),(0,t.Lk)("div",null,[e[1]||(e[1]=(0,t.Lk)("small",{class:"text-muted d-block"},"Location",-1)),(0,t.Lk)("span",V,(0,S.v_)(a.lesson.location),1)])]),(0,t.Lk)("div",$,[e[4]||(e[4]=(0,t.Lk)("div",{class:"info-icon me-3"},[(0,t.Lk)("i",{class:"bi bi-tag-fill text-primary"})],-1)),(0,t.Lk)("div",null,[e[3]||(e[3]=(0,t.Lk)("small",{class:"text-muted d-block"},"Price",-1)),(0,t.Lk)("span",D,"Â£"+(0,S.v_)(a.lesson.price),1)])]),(0,t.Lk)("div",q,[(0,t.Lk)("div",z,[(0,t.Lk)("i",{class:(0,S.C4)(["bi bi-people-fill",n.spacesColorClass])},null,2)]),(0,t.Lk)("div",null,[e[5]||(e[5]=(0,t.Lk)("small",{class:"text-muted d-block"},"Available Spaces",-1)),(0,t.Lk)("span",{class:(0,S.C4)(["fw-medium",n.spacesColorClass])},(0,S.v_)(a.lesson.spaces),3)])])])]),(0,t.Lk)("div",G,[(0,t.Lk)("button",{onClick:e[0]||(e[0]=(...s)=>n.handleAddToCart&&n.handleAddToCart(...s)),disabled:!n.hasAvailableSpaces||n.isInCart,class:(0,S.C4)(["btn w-100 position-relative overflow-hidden",n.buttonClasses])},[(0,t.Lk)("span",N,(0,S.v_)(n.buttonText),1),(0,t.Lk)("i",{class:(0,S.C4)(["bi position-absolute end-0 me-3",n.cartIconClass])},null,2)],10,H)])])}var K={name:"LessonCard",props:{lesson:{type:Object,required:!0,validator(s){return["id","subject","location","price","spaces","icon"].every((e=>e in s))}}},computed:{...(0,n.L8)("cart",["isLessonInCart"]),hasAvailableSpaces(){return this.lesson.spaces>0},isInCart(){return this.isLessonInCart(this.lesson.id)},buttonText(){return this.isInCart?"In Cart":this.hasAvailableSpaces?"Add to Cart":"No Spaces Left"},buttonClasses(){return this.isInCart?"btn-success":this.hasAvailableSpaces?"btn-primary":"btn-secondary opacity-50"},cartIconClass(){return this.isInCart?"bi-check-circle":"bi-cart-plus"},spacesColorClass(){return 0===this.lesson.spaces?"text-danger":this.lesson.spaces<=2?"text-warning":"text-primary"}},methods:{formatPrice(s){return s.toLocaleString("en-GB",{minimumFractionDigits:2,maximumFractionDigits:2})},handleAddToCart(){this.hasAvailableSpaces&&!this.isInCart&&this.$emit("add-to-cart",this.lesson)}}};const Q=(0,g.A)(K,[["render",J],["__scopeId","data-v-2a04deda"]]);var R=Q,W={name:"LessonList",components:{LessonCard:R},props:{lessons:{type:Array,required:!0,default:()=>[]},loading:{type:Boolean,default:!1},error:{type:String,default:null}},methods:{handleAddToCart(s){this.$emit("add-to-cart",s)}}};const Y=(0,g.A)(W,[["render",E],["__scopeId","data-v-4a1f3196"]]);var Z=Y,ss={name:"LessonsView",components:{SearchSortBar:y,LessonList:Z},computed:{...(0,n.aH)("lessons",["loading","error"]),...(0,n.L8)("lessons",["filteredLessons"])},methods:{...(0,n.i0)("lessons",["updateSearch","updateSort","decrementSpaces","initializeLessons"]),...(0,n.i0)("cart",["addToCart"]),handleSearch(s){this.updateSearch(s)},handleSort(s){this.updateSort(s)},handleAddToCart(s){s.spaces>0&&(this.addToCart(s),this.decrementSpaces(s.id))}},created(){const s=[{id:1,subject:"Mathematics",location:"London",price:100,spaces:0,icon:"bi bi-calculator"},{id:2,subject:"English",location:"Manchester",price:90,spaces:3,icon:"bi bi-book"},{id:3,subject:"Biology",location:"Birmingham",price:110,spaces:4,icon:"bi bi-virus"},{id:4,subject:"Music",location:"London",price:100,spaces:5,icon:"bi bi-music-note-beamed"},{id:5,subject:"Geography",location:"Manchester",price:90,spaces:3,icon:"bi bi-globe"},{id:6,subject:"Computer",location:"Birmingham",price:110,spaces:4,icon:"bi bi-laptop"},{id:7,subject:"History",location:"London",price:100,spaces:5,icon:"bi bi-hourglass-split"},{id:8,subject:"Art",location:"Manchester",price:90,spaces:3,icon:"bi bi-palette"},{id:9,subject:"Physical Education",location:"Birmingham",price:110,spaces:4,icon:"bi bi-bicycle"},{id:10,subject:"Languages",location:"Birmingham",price:110,spaces:4,icon:"bi bi-translate"}];this.initializeLessons(s)}};const es=(0,g.A)(ss,[["render",i],["__scopeId","data-v-64f28e4e"]]);var as=es}}]);
//# sourceMappingURL=73.d4537cf5.js.map